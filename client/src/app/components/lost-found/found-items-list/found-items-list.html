<div class="min-h-screen bg-white pt-20 pb-16">
  <!-- Decorative Background Elements -->
  <div class="fixed inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-secondary/5 to-transparent rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
    <div class="absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-tl from-green-500/5 to-transparent rounded-full blur-3xl translate-x-1/2 translate-y-1/2"></div>
  </div>

  <div class="relative max-w-7xl mx-auto px-4">
    <!-- Header Section -->
    <div class="mb-12">
      <button 
        (click)="goBack()"
        class="group mb-8 px-5 py-2.5 rounded-xl border border-gray-200 hover:border-secondary hover:bg-secondary/5 transition-all inline-flex items-center gap-3 hover:shadow-sm">
        <svg class="w-4 h-4 text-gray-600 group-hover:text-secondary transition-colors" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        <span class="text-sm font-semibold text-gray-700 group-hover:text-secondary">Back to Overview</span>
      </button>

      <div class="text-center mb-8">
        <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-green-50 to-emerald-100 mb-6">
          <svg class="w-10 h-10 text-green-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="12" cy="12" r="10"/>
            <path d="m9 12 2 2 4-4"/>
            <path d="M12 2a10 10 0 0 0-10 10 10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2z" opacity="0.5"/>
          </svg>
        </div>
        <h1 class="text-5xl md:text-6xl font-black text-text-primary mb-4">
          Found <span class="text-secondary">Items</span> Directory
        </h1>
        <p class="text-xl text-text-secondary max-w-2xl mx-auto">
          Browse through all found items and claim what belongs to you
        </p>
      </div>
    </div>

    <!-- Search and Filter Section -->
    <div class="bg-gradient-to-r from-white to-secondary/5 rounded-2xl border border-gray-100 shadow-xl p-8 mb-10">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <!-- Search Input -->
        <div class="lg:col-span-2">
          <label class="block text-sm font-semibold text-text-primary mb-3 flex items-center gap-2">
            <svg class="w-4 h-4 text-secondary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"/>
              <path d="m21 21-4.35-4.35"/>
            </svg>
            Search Found Items
          </label>
          <div class="relative">
            <input 
              type="text"
              [(ngModel)]="searchQuery"
              (keyup)="applyFilters()"
              placeholder="Search by item name, description, location..."
              class="w-full pl-12 pr-10 py-4 rounded-xl border-2 border-gray-200 focus:border-secondary focus:ring-2 focus:ring-secondary/20 outline-none transition-all bg-white shadow-sm">
            <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"/>
              <path d="m21 21-4.35-4.35"/>
            </svg>
          </div>
        </div>

        <!-- Category Filter -->
        <div>
          <label class="block text-sm font-semibold text-text-primary mb-3 flex items-center gap-2">
            <svg class="w-4 h-4 text-secondary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2z"/>
              <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
            </svg>
            Filter by Category
          </label>
          <div class="relative">
            <select 
              [(ngModel)]="selectedCategory"
              (change)="applyFilters()"
              class="w-full px-4 py-4 rounded-xl border-2 border-gray-200 focus:border-secondary focus:ring-2 focus:ring-secondary/20 outline-none transition-all bg-white appearance-none shadow-sm pr-10">
              <option value="">All Categories</option>
              <option *ngFor="let cat of categories" [value]="cat">{{cat}}</option>
            </select>
            <svg class="absolute right-4 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="m6 9 6 6 6-6"/>
            </svg>
          </div>
        </div>
      </div>

      <!-- Active Filters Badges -->
      <div *ngIf="searchQuery || selectedCategory" class="mt-6 pt-6 border-t border-gray-100">
        <div class="flex flex-wrap items-center gap-3">
          <span class="text-sm font-semibold text-text-primary">Active Filters:</span>
          
          <!-- Search Badge -->
          <span *ngIf="searchQuery" class="inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-secondary/10 to-secondary/5 border border-secondary/20 rounded-xl text-sm text-secondary font-medium">
            <svg class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"/>
              <path d="m21 21-4.35-4.35"/>
            </svg>
            "{{searchQuery}}"
            <button (click)="searchQuery = ''; applyFilters()" class="hover:opacity-70 transition-opacity">
              <svg class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 6 6 18M6 6l12 12"/>
              </svg>
            </button>
          </span>
          
          <!-- Category Badge -->
          <span *ngIf="selectedCategory" class="inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500/10 to-green-500/5 border border-green-500/20 rounded-xl text-sm text-green-700 font-medium">
            <svg class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34"/>
              <polygon points="18 2 22 6 12 16 8 16 8 12 18 2"/>
            </svg>
            {{selectedCategory}}
            <button (click)="selectedCategory = ''; applyFilters()" class="hover:opacity-70 transition-opacity">
              <svg class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 6 6 18M6 6l12 12"/>
              </svg>
            </button>
          </span>
          
          <!-- Clear All Button -->
          <button (click)="resetFilters()" 
                  class="ml-2 text-sm font-semibold text-red-600 hover:text-red-700 transition-colors flex items-center gap-2 px-3 py-2 hover:bg-red-50 rounded-lg">
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
            </svg>
            Clear All
          </button>
        </div>
      </div>
    </div>

    <!-- Results Counter -->
    <div class="mb-8">
      <div class="inline-flex items-center gap-3 px-5 py-3 bg-gradient-to-r from-secondary/5 to-secondary/10 rounded-xl border border-secondary/20">
        <svg class="w-5 h-5 text-secondary" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 12h6M12 9v6M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"/>
        </svg>
        <span class="text-lg font-bold text-text-primary">
          {{filteredItems.length}} of {{allItems.length}} Found Items
        </span>
        <span class="text-sm text-text-secondary font-medium">
          {{(filteredItems.length / allItems.length * 100).toFixed(0)}}% of total
        </span>
      </div>
    </div>

    <!-- Items Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <div 
        *ngFor="let item of filteredItems" 
        (click)="navigateToDetail(item.id)"
        class="group relative bg-white rounded-2xl border border-gray-100 shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 cursor-pointer overflow-hidden">
        
        <!-- Decorative Corner -->
        <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-green-500 to-emerald-600 rounded-bl-full opacity-80"></div>
        
        <!-- Image Section -->
        <div class="h-52 bg-gradient-to-br from-green-50 to-emerald-100 relative overflow-hidden">
          <!-- Default Icon Background -->
          <div class="absolute inset-0 flex items-center justify-center opacity-20">
            <svg class="w-32 h-32 text-green-300" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
              <circle cx="12" cy="12" r="10"/>
              <path d="m9 12 2 2 4-4"/>
            </svg>
          </div>
          
          <!-- Item Image -->
          <img 
            *ngIf="item.images && item.images.length > 0" 
            [src]="'http://localhost:3000/' + item.images[0]"
            [alt]="item.title"
            class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700">
          
          <!-- Found Badge -->
          <div class="absolute top-4 left-4">
            <span class="px-4 py-1.5 bg-green-600 text-white text-xs font-bold rounded-full shadow-lg flex items-center gap-2">
              <svg class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="m9 12 2 2 4-4"/>
                <path d="M12 2a10 10 0 0 0-10 10 10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2z" opacity="0.5"/>
              </svg>
              FOUND ITEM
            </span>
          </div>
          
          <!-- Time Badge -->
          <div class="absolute bottom-4 right-4">
            <span class="px-3 py-1 bg-black/70 text-white text-xs rounded-full backdrop-blur-sm">
              {{formatTimeAgo(item.createdAt)}}
            </span>
          </div>
        </div>

        <!-- Content Section -->
        <div class="p-6">
          <!-- Category Badge -->
          <div class="mb-4">
            <span class="inline-flex items-center gap-2 px-3 py-1.5 bg-green-50 text-green-700 text-sm font-semibold rounded-full border border-green-100">
              <svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
              {{item.category}}
            </span>
          </div>

          <!-- Title -->
          <h3 class="text-xl font-bold text-text-primary mb-3 group-hover:text-green-600 transition-colors line-clamp-1">
            {{item.title}}
          </h3>
          
          <!-- Description -->
          <p class="text-text-secondary text-sm mb-5 line-clamp-2">
            {{item.description}}
          </p>

          <!-- Location & Date -->
          <div class="space-y-3 text-sm">
            <div class="flex items-center gap-3 text-text-secondary">
              <svg class="w-4 h-4 text-green-500 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M12 2c-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8 4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8zm0 14c-3.314 0-6-2.686-6-6s2.686-6 6-6 6 2.686 6 6-2.686 6-6 6z"/>
                <path d="M12 6v6l4 2"/>
              </svg>
              <span class="font-medium">{{item.location}}</span>
            </div>
            <div class="flex items-center gap-3 text-text-secondary">
              <svg class="w-4 h-4 text-emerald-500 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
              </svg>
              <span>Found: <span class="font-medium">{{formatDate(item.dateFound)}}</span></span>
            </div>
          </div>

          <!-- View Details Button -->
          <div class="mt-6 pt-6 border-t border-gray-100">
            <button class="group w-full px-4 py-3 bg-gradient-to-r from-green-50 to-emerald-100 hover:from-green-100 hover:to-emerald-200 text-green-700 font-bold rounded-xl transition-all flex items-center justify-center gap-3 hover:shadow-md">
              <span>View Details</span>
              <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="m9 18 6-6-6-6"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="filteredItems.length === 0" class="text-center py-20">
      <div class="inline-flex items-center justify-center w-32 h-32 rounded-full bg-gradient-to-br from-green-50 to-emerald-100 mb-8">
        <svg class="w-16 h-16 text-green-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <circle cx="12" cy="12" r="10"/>
          <path d="m9 12 2 2 4-4"/>
          <path d="M12 16h.01M12 8v4"/>
        </svg>
      </div>
      <h3 class="text-3xl font-bold text-text-primary mb-4">No Found Items Found</h3>
      <p class="text-lg text-text-secondary max-w-md mx-auto mb-8">
        We couldn't find any items matching your search criteria. Try adjusting your filters or search terms.
      </p>
      <button (click)="resetFilters()" 
              class="group px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center gap-3 mx-auto">
        <svg class="w-5 h-5 group-hover:rotate-90 transition-transform" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
          <path d="M3 3v5h5"/>
        </svg>
        Reset All Filters
      </button>
    </div>

    <!-- Back to Top Button -->
    <div *ngIf="filteredItems.length > 6" class="mt-12 text-center">
      <button 
              class="group inline-flex items-center gap-2 px-6 py-3 bg-white border border-gray-200 hover:border-secondary text-text-primary font-semibold rounded-xl hover:shadow-lg transition-all">
        <svg class="w-4 h-4 group-hover:-translate-y-1 transition-transform" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="m18 15-6-6-6 6"/>
        </svg>
        Back to Top
      </button>
    </div>
  </div>
</div>